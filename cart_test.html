<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple Shopping Cart</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .product, .cart-item { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
    .cart { margin-top: 20px; }
    .order-summary { margin-top: 20px; border-top: 2px solid black; padding-top: 10px; }
  </style>
</head>
<body>

  <h1>ğŸ›ï¸ å•†å“åˆ—è¡¨</h1>
  <div id="product-list">
    <!-- å•†å“æœƒç”± JS ç”¢ç”Ÿ -->
  </div>

  <h2>ğŸ›’ è³¼ç‰©è»Š</h2>
  <div id="cart">
    è³¼ç‰©è»Šæ˜¯ç©ºçš„
  </div>

  <button onclick="submitOrder()">æäº¤è¨‚å–®</button>

  <div id="order-summary"></div>

  <script>
    // å•†å“è³‡æ–™
    const products = [
      { id: 1, name: 'è˜‹æœ', price: 30 },
      { id: 2, name: 'é¦™è•‰', price: 20 },
      { id: 3, name: 'æ©˜å­', price: 25 },
    ];

    let cart = [];

    // é¡¯ç¤ºå•†å“
    function renderProducts() {
      const productList = document.getElementById('product-list');
      productList.innerHTML = '';
      products.forEach(product => {
        const productDiv = document.createElement('div');
        productDiv.className = 'product';
        productDiv.innerHTML = `
          <strong>${product.name}</strong> - $${product.price}
          <button onclick="addToCart(${product.id})">åŠ å…¥è³¼ç‰©è»Š</button>
        `;
        productList.appendChild(productDiv);
      });
    }

    // åŠ å…¥è³¼ç‰©è»Š
    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      const cartItem = cart.find(item => item.id === productId);
      if (cartItem) {
        cartItem.quantity += 1;
      } else {
        cart.push({ ...product, quantity: 1 });
      }
      renderCart();
    }

    // é¡¯ç¤ºè³¼ç‰©è»Š
    function renderCart() {
      const cartDiv = document.getElementById('cart');
      if (cart.length === 0) {
        cartDiv.innerHTML = 'è³¼ç‰©è»Šæ˜¯ç©ºçš„';
        return;
      }
      cartDiv.innerHTML = '';
      cart.forEach(item => {
        const itemDiv = document.createElement('div');
        itemDiv.className = 'cart-item';
        itemDiv.innerHTML = `
          ${item.name} - $${item.price} x 
          <input type="number" value="${item.quantity}" min="1" onchange="updateQuantity(${item.id}, this.value)" />
          <button onclick="removeFromCart(${item.id})">åˆªé™¤</button>
        `;
        cartDiv.appendChild(itemDiv);
      });

      // ç¸½åƒ¹
      const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      const totalDiv = document.createElement('div');
      totalDiv.innerHTML = `<strong>ç¸½åƒ¹ï¼š$${total}</strong>`;
      cartDiv.appendChild(totalDiv);
    }

    // æ›´æ–°æ•¸é‡
    function updateQuantity(productId, quantity) {
      const cartItem = cart.find(item => item.id === productId);
      if (cartItem) {
        cartItem.quantity = parseInt(quantity);
        renderCart();
      }
    }

    // ç§»é™¤å•†å“
    function removeFromCart(productId) {
      cart = cart.filter(item => item.id !== productId);
      renderCart();
    }

    // æäº¤è¨‚å–®
    function submitOrder() {
      if (cart.length === 0) {
        alert('è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œè«‹åŠ å…¥å•†å“');
        return;
      }
      let summary = `<h3>ğŸ“¦ è¨‚å–®å…§å®¹ï¼š</h3>`;
      cart.forEach(item => {
        summary += `${item.name} x ${item.quantity} = $${item.price * item.quantity}<br>`;
      });
      const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      summary += `<strong>ç¸½é‡‘é¡ï¼š$${total}</strong>`;
      document.getElementById('order-summary').innerHTML = `<div class="order-summary">${summary}</div>`;
      cart = []; // æ¸…ç©ºè³¼ç‰©è»Š
      renderCart();
    }

    // åˆå§‹æ¸²æŸ“
    renderProducts();
    renderCart();
  </script>

</body>
</html>
